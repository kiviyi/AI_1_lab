# Отчет по лабораторной работе
## по курсу "Искусственный интеллект"

### Студенты: 

| ФИО | Роль в проекте                     | Оценка       |
|--|------------------------------------|--------------|
| Ворошилов Кирилл | Всё|          |


> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*

## Тема работы

Создание экспертной системы по подбору еды

## Концептуализация предметной области
В предметной области еды существует множество признаков, по которым можно классифицировать разные продукты и блюда. Один из основных признаков — это тип еды: например, завтрак, обед или ужин. Также еду можно классифицировать по другим параметрам, таким как главный ингредиент (мясо, овощи, морепродукты) или ее назначение (основное блюдо, закуска, десерт).

Пример иерархии можно представить следующим образом:

1. Еда может быть разделена на категории по приему пищи: завтрак, обед, ужин.
2. Далее можно разделять на подкатегории: основное блюдо, закуска, десерт.
3. В каждом из этих уровней можно различать блюда по составу: мясные, вегетарианские, морепродукты и т.д.

Эта структура позволяет организовать онтологию еды и установить связи между различными категориями и блюдами.

## Принцип реализации системы

Для реализации системы было решено использовать дерево И/ИЛИ, так как оно лучше всего подходит для представления логических взаимосвязей между различными видами еды. Для разработки системы была выбрана среда программирования Python, так как в ней существует удобная библиотека **PyKnow**, которая поддерживает реализацию экспертных систем.

## Механизм вывода

В экспертной системе реализован как прямой, так и обратный вывод, что позволяет гибко решать задачи в зависимости от начальных условий.

### Обратный вывод:
При обратном выводе система пытается достичь конечной цели (например, узнать, какое блюдо выбрать) и задает пользователю вопросы для уточнения необходимых данных.

Пример кода для обратного вывода:

```python
class KnowledgeBase():
    def get(self, name):
        # Проверяем, есть ли значение в памяти
        if name in памяти, возвращаем его
        if name in self.memory.keys():
            return self.memory[name]
        # Проверяем правила для текущего запроса
        for fld in self.rules.keys():
            if fld == name or fld.startswith(name + ":"):
                value = 'y' if fld == name else fld.split(':')[1]
                res = self.eval(self.rules[fld], field=name)
                if res == 'y':
                    self.memory[name] = value
                    return value
        # Если правило не найдено, используем дефолтное значение
        res = self.eval(self.rules['default'], field=name)
        self.memory[name] = res
        return res

    def eval(self, expr, field=None):
        # Выполняем оценку выражений на основе заданных правил

```
Этот код показывает, как система проверяет правила и обращается к пользователю, чтобы уточнить ответы, если в памяти еще нет данных.

### Прямой вывод:
В прямом выводе система автоматически применяет факты и правила, чтобы сделать выводы.

```python
class FoodRecommendation(KnowledgeEngine):
    @Rule(OR(Fact('утро'), Fact('голод')))
    def recommendBreakfast(self):
        self.declare(Fact('завтрак'))

```
Прямой вывод автоматически применяет правила, когда факты совпадают с условиями.

## Извлечение знаний и база знаний

Для создания базы знаний требуется эксперт, который обладает знаниями о предметной области (еде), и инженер по знаниям, который может формализовать эти знания в виде логических правил.

Эксперт предоставляет информацию о том, в каких условиях лучше употреблять те или иные блюда, например, какие продукты лучше подходят для завтрака, обеда или ужина. На основе этой информации инженер создает дерево И/ИЛИ, которое позволяет системе автоматически подбирать еду в зависимости от предпочтений пользователя и условий.

## Пример работы системы

Пример работы системы с прямым выводом:

Допустим, нам нужно выбрать еду для завтрака. Вводим условия, соответствующие этому запросу, и система подбирает подходящие варианты, например, овсянка или бутерброды.

Теперь посмотрим, как работает обратный вывод. Пользователь может задать более сложный запрос, например, "Что съесть на ужин, если я хочу что-то легкое и вегетарианское?" Система последовательно задает вопросы для уточнения запроса и на основе ответов выдает рекомендации, например, салат или суп.


## Выводы

В ходе работы я научился создавать экспертные системы с использованием как прямого, так и обратного вывода, а также познакомился с библиотекой PyKnow для работы с логическими правилами. Построенная мной экспертная система по подбору еды может быть расширена и усложнена путем добавления новых категорий продуктов и зависимостей между ними.

Этот проект позволил мне лучше понять, как работают экспертные системы и как они могут быть применены для решения практических задач.